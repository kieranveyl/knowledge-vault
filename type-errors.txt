src/adapters/api/elysia.adapter.ts(317,38): error TS2345: Argument of type '{ headers: HTTPHeaders; status?: number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | ... 53 more ... | undefined; redirect?: string | undefined; cookie?: Record<...> | undefined; }' is not assignable to parameter of type '{ status?: number | undefined; }'.
  Types of property 'status' are incompatible.
    Type 'number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | "No Content" | "Reset Content" | ... 51 more ... | undefined' is not assignable to type 'number | undefined'.
      Type 'string' is not assignable to type 'number'.
src/adapters/api/elysia.adapter.ts(339,37): error TS2345: Argument of type '{ headers: HTTPHeaders; status?: number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | ... 53 more ... | undefined; redirect?: string | undefined; cookie?: Record<...> | undefined; }' is not assignable to parameter of type '{ status?: number | undefined; }'.
  Types of property 'status' are incompatible.
    Type 'number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | "No Content" | "Reset Content" | ... 51 more ... | undefined' is not assignable to type 'number | undefined'.
      Type 'string' is not assignable to type 'number'.
src/adapters/api/elysia.adapter.ts(375,38): error TS2345: Argument of type '{ headers: HTTPHeaders; status?: number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | ... 53 more ... | undefined; redirect?: string | undefined; cookie?: Record<...> | undefined; }' is not assignable to parameter of type '{ status?: number | undefined; }'.
  Types of property 'status' are incompatible.
    Type 'number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | "No Content" | "Reset Content" | ... 51 more ... | undefined' is not assignable to type 'number | undefined'.
      Type 'string' is not assignable to type 'number'.
src/adapters/api/elysia.adapter.ts(412,67): error TS2345: Argument of type '{ event_id: string; timestamp: Date; schema_version: string; type: "VisibilityEvent"; version_id: string & Brand<"VersionId">; op: "rollback"; collections: never[]; }' is not assignable to parameter of type '{ readonly version_id: string & Brand<"VersionId">; readonly collections: readonly [string & Brand<"CollectionId">, ...(string & Brand<"CollectionId">)[]]; readonly type: "VisibilityEvent"; readonly timestamp: Date; readonly event_id: string; readonly schema_version: string; readonly op: "publish" | ... 1 more ... |...'.
  Types of property 'collections' are incompatible.
    Type 'never[]' is not assignable to type 'readonly [string & Brand<"CollectionId">, ...(string & Brand<"CollectionId">)[]]'.
      Source provides no match for required element at position 0 in target.
src/adapters/api/elysia.adapter.ts(419,38): error TS2345: Argument of type '{ headers: HTTPHeaders; status?: number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | ... 53 more ... | undefined; redirect?: string | undefined; cookie?: Record<...> | undefined; }' is not assignable to parameter of type '{ status?: number | undefined; }'.
  Types of property 'status' are incompatible.
    Type 'number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | "No Content" | "Reset Content" | ... 51 more ... | undefined' is not assignable to type 'number | undefined'.
      Type 'string' is not assignable to type 'number'.
src/adapters/api/elysia.adapter.ts(449,37): error TS2345: Argument of type '{ headers: HTTPHeaders; status?: number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | ... 53 more ... | undefined; redirect?: string | undefined; cookie?: Record<...> | undefined; }' is not assignable to parameter of type '{ status?: number | undefined; }'.
  Types of property 'status' are incompatible.
    Type 'number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | "No Content" | "Reset Content" | ... 51 more ... | undefined' is not assignable to type 'number | undefined'.
      Type 'string' is not assignable to type 'number'.
src/adapters/api/elysia.adapter.ts(503,37): error TS2345: Argument of type '{ headers: HTTPHeaders; status?: number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | ... 53 more ... | undefined; redirect?: string | undefined; cookie?: Record<...> | undefined; }' is not assignable to parameter of type '{ status?: number | undefined; }'.
  Types of property 'status' are incompatible.
    Type 'number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | "No Content" | "Reset Content" | ... 51 more ... | undefined' is not assignable to type 'number | undefined'.
      Type 'string' is not assignable to type 'number'.
src/adapters/api/elysia.adapter.ts(516,38): error TS2345: Argument of type '{ headers: HTTPHeaders; status?: number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | ... 53 more ... | undefined; redirect?: string | undefined; cookie?: Record<...> | undefined; }' is not assignable to parameter of type '{ status?: number | undefined; }'.
  Types of property 'status' are incompatible.
    Type 'number | "Continue" | "Switching Protocols" | "Processing" | "Early Hints" | "OK" | "Created" | "Accepted" | "Non-Authoritative Information" | "No Content" | "Reset Content" | ... 51 more ... | undefined' is not assignable to type 'number | undefined'.
      Type 'string' is not assignable to type 'number'.
src/adapters/api/elysia.adapter.ts(610,44): error TS2339: Property 'message' does not exist on type 'Readonly<Error> | Readonly<ValidationError> | Readonly<NotFoundError> | Readonly<ParseError> | Readonly<...> | Readonly<...> | Readonly<...> | Readonly<...>'.
  Property 'message' does not exist on type 'Readonly<ElysiaCustomStatusResponse<number, number, number>>'.
src/adapters/api/elysia.adapter.ts(624,21): error TS2339: Property 'message' does not exist on type 'Readonly<Error> | Readonly<ValidationError> | Readonly<NotFoundError> | Readonly<ParseError> | Readonly<...> | Readonly<...> | Readonly<...> | Readonly<...>'.
  Property 'message' does not exist on type 'Readonly<ElysiaCustomStatusResponse<number, number, number>>'.
src/adapters/observability/local.adapter.ts(51,3): error TS2322: Type 'Ref<{ counters: Map<any, any>; gauges: Map<any, any>; timers: Map<any, any>; events: never[]; health: Map<any, any>; }>' is not assignable to type 'Ref<MetricStorage>'.
  The types of '[RefTypeId]._A' are incompatible between these types.
    Type 'Invariant<{ counters: Map<any, any>; gauges: Map<any, any>; timers: Map<any, any>; events: never[]; health: Map<any, any>; }>' is not assignable to type 'Invariant<MetricStorage>'.
      Types of parameters '_' and '_' are incompatible.
        Type 'MetricStorage' is not assignable to type '{ counters: Map<any, any>; gauges: Map<any, any>; timers: Map<any, any>; events: never[]; health: Map<any, any>; }'.
          Types of property 'events' are incompatible.
            Type 'TelemetryEvent[]' is not assignable to type 'never[]'.
              Type 'TelemetryEvent' is not assignable to type 'never'.
src/adapters/observability/local.adapter.ts(161,28): error TS1361: 'METRIC_NAMES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(168,17): error TS1361: 'EVENT_TYPES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(184,28): error TS1361: 'METRIC_NAMES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(191,17): error TS1361: 'EVENT_TYPES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(206,20): error TS1361: 'METRIC_NAMES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(217,48): error TS1361: 'METRIC_NAMES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(225,20): error TS1361: 'METRIC_NAMES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(235,52): error TS1361: 'METRIC_NAMES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(243,20): error TS1361: 'METRIC_NAMES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(266,23): error TS1361: 'METRIC_NAMES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(270,23): error TS1361: 'METRIC_NAMES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(284,16): error TS1361: 'EVENT_TYPES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(300,16): error TS1361: 'EVENT_TYPES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(316,16): error TS1361: 'EVENT_TYPES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(331,16): error TS1361: 'EVENT_TYPES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(501,41): error TS1361: 'METRIC_NAMES' cannot be used as a value because it was imported using 'import type'.
src/adapters/observability/local.adapter.ts(502,40): error TS1361: 'EVENT_TYPES' cannot be used as a value because it was imported using 'import type'.
src/adapters/parsing/markdown.adapter.ts(110,19): error TS2339: Property 'push' does not exist on type 'readonly { readonly language?: string | undefined; readonly char_start: number; readonly char_end: number; }[]'.
src/adapters/parsing/markdown.adapter.ts(130,17): error TS2339: Property 'push' does not exist on type 'readonly { readonly level: number; readonly text: string; readonly normalized_id: string; readonly char_offset: number; }[]'.
src/adapters/parsing/markdown.adapter.ts(147,16): error TS2339: Property 'push' does not exist on type 'readonly { readonly alt_text: string; readonly url: string; readonly char_offset: number; }[]'.
src/adapters/parsing/markdown.adapter.ts(153,15): error TS2339: Property 'push' does not exist on type 'readonly { readonly text: string; readonly url: string; readonly char_offset: number; }[]'.
src/adapters/parsing/markdown.adapter.ts(193,28): error TS1361: 'DEFAULT_CHUNKING_CONFIG' cannot be used as a value because it was imported using 'import type'.
src/adapters/parsing/markdown.adapter.ts(195,3): error TS2322: Type 'Effect<{ structure_path: string & Brand<"StructurePath">; content: string; token_span: { offset: number; length: number; }; snippet: string; char_offset: number; char_length: number; }[], ParsingError, never>' is not assignable to type 'Effect<readonly ContentChunk[], ParsingError, never>'.
  Type '{ structure_path: string & Brand<"StructurePath">; content: string; token_span: { offset: number; length: number; }; snippet: string; char_offset: number; char_length: number; }[]' is not assignable to type 'readonly ContentChunk[]'.
    Type '{ structure_path: string & Brand<"StructurePath">; content: string; token_span: { offset: number; length: number; }; snippet: string; char_offset: number; char_length: number; }' is not assignable to type 'ContentChunk'.
      The types of 'token_span.length' are incompatible between these types.
        Type 'number' is not assignable to type 'number & Brand<"TokenLength">'.
          Type 'number' is not assignable to type 'Brand<"TokenLength">'.
src/adapters/parsing/markdown.adapter.ts(198,59): error TS2345: Argument of type 'import("/Users/sayertindall/Dev/Obscura/Projects/Current/knowledge-repository/src/services/parsing.port").ChunkingConfig' is not assignable to parameter of type 'import("/Users/sayertindall/Dev/Obscura/Projects/Current/knowledge-repository/src/pipelines/chunking/passage").ChunkingConfig'.
  Type 'ChunkingConfig' is missing the following properties from type 'ChunkingConfig': maxTokensPerPassage, overlapTokens, maxNoteTokens, preserveStructureBoundaries, minPassageTokens
src/adapters/parsing/markdown.adapter.ts(259,15): error TS2358: The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.
src/adapters/parsing/markdown.adapter.ts(259,46): error TS2339: Property 'message' does not exist on type 'never'.
src/adapters/parsing/markdown.adapter.ts(275,15): error TS2358: The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.
src/adapters/parsing/markdown.adapter.ts(275,46): error TS2339: Property 'message' does not exist on type 'never'.
src/adapters/parsing/markdown.adapter.ts(291,15): error TS2358: The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.
src/adapters/parsing/markdown.adapter.ts(291,46): error TS2339: Property 'message' does not exist on type 'never'.
src/adapters/parsing/markdown.adapter.ts(307,15): error TS2358: The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.
src/adapters/parsing/markdown.adapter.ts(307,46): error TS2339: Property 'message' does not exist on type 'never'.
src/adapters/parsing/markdown.adapter.ts(418,14): error TS2358: The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.
src/adapters/parsing/markdown.adapter.ts(418,45): error TS2339: Property 'message' does not exist on type 'never'.
src/adapters/parsing/markdown.adapter.ts(423,11): error TS2416: Property 'computeAnchorFingerprint' in type 'MarkdownParsingAdapter' is not assignable to the same property in base type 'ParsingPort'.
  Type '(tokens: readonly string[], offset: number, length: number, algorithm?: "sha256") => Effect<string, ParsingError, never>' is not assignable to type '(tokens: readonly string[], offset: number, length: number, algorithm?: "sha256" | "blake3" | undefined) => Effect<string, ParsingError, never>'.
    Types of parameters 'algorithm' and 'algorithm' are incompatible.
      Type '"sha256" | "blake3" | undefined' is not assignable to type '"sha256" | undefined'.
        Type '"blake3"' is not assignable to type '"sha256"'.
src/adapters/parsing/markdown.adapter.ts(434,15): error TS2358: The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.
src/adapters/parsing/markdown.adapter.ts(434,46): error TS2339: Property 'message' does not exist on type 'never'.
src/adapters/parsing/markdown.adapter.ts(442,28): error TS1361: 'DEFAULT_CHUNKING_CONFIG' cannot be used as a value because it was imported using 'import type'.
src/adapters/parsing/markdown.adapter.ts(444,3): error TS2322: Type 'Effect<{ version_id: any; passage_id: string & Brand<"PassageId">; structure_path: string & Brand<"StructurePath">; token_offset: number; token_length: number; content: string; snippet: string; char_offset: number; char_length: number; }[], ParsingError, never>' is not assignable to type 'Effect<readonly (ContentChunk & { version_id: any; })[], ParsingError, never>'.
  Type '{ version_id: any; passage_id: string & Brand<"PassageId">; structure_path: string & Brand<"StructurePath">; token_offset: number; token_length: number; content: string; snippet: string; char_offset: number; char_length: number; }[]' is not assignable to type 'readonly (ContentChunk & { version_id: any; })[]'.
    Type '{ version_id: any; passage_id: PassageId; structure_path: StructurePath; token_offset: number; token_length: number; content: string; snippet: string; char_offset: number; char_length: number; }' is not assignable to type 'ContentChunk & { version_id: any; }'.
      Property 'token_span' is missing in type '{ version_id: any; passage_id: PassageId; structure_path: StructurePath; token_offset: number; token_length: number; content: string; snippet: string; char_offset: number; char_length: number; }' but required in type 'ContentChunk'.
src/adapters/parsing/markdown.adapter.ts(446,39): error TS2345: Argument of type 'import("/Users/sayertindall/Dev/Obscura/Projects/Current/knowledge-repository/src/services/parsing.port").ChunkingConfig' is not assignable to parameter of type 'import("/Users/sayertindall/Dev/Obscura/Projects/Current/knowledge-repository/src/pipelines/chunking/passage").ChunkingConfig'.
  Type 'ChunkingConfig' is missing the following properties from type 'ChunkingConfig': maxTokensPerPassage, overlapTokens, maxNoteTokens, preserveStructureBoundaries, minPassageTokens
src/adapters/parsing/markdown.adapter.ts(475,14): error TS2358: The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.
src/adapters/parsing/markdown.adapter.ts(475,45): error TS2339: Property 'message' does not exist on type 'never'.
src/adapters/parsing/markdown.adapter.ts(485,2): error TS2322: Type 'MarkdownParsingAdapter' is not assignable to type 'ParsingPort'.
  Types of property 'computeAnchorFingerprint' are incompatible.
    Type '(tokens: readonly string[], offset: number, length: number, algorithm?: "sha256") => Effect<string, ParsingError, never>' is not assignable to type '(tokens: readonly string[], offset: number, length: number, algorithm?: "sha256" | "blake3" | undefined) => Effect<string, ParsingError, never>'.
      Types of parameters 'algorithm' and 'algorithm' are incompatible.
        Type '"sha256" | "blake3" | undefined' is not assignable to type '"sha256" | undefined'.
          Type '"blake3"' is not assignable to type '"sha256"'.
src/adapters/search/orama.adapter.stub.ts(85,14): error TS2420: Class 'OramaSearchAdapter' incorrectly implements interface 'IndexingPort'.
  Property 'indexVersion' is missing in type 'OramaSearchAdapter' but required in type 'IndexingPort'.
src/adapters/search/orama.adapter.stub.ts(110,41): error TS2322: Type '{ version_id: string; passage_id: string; content: string; snippet: string; structure_path: string; collection_ids: string; token_offset: string; token_length: string; created_at: string; }' is not assignable to type 'AnySchema'.
  Property 'version_id' is incompatible with index signature.
    Type 'string' is not assignable to type 'AnySchema | SearchableType'.
src/adapters/search/orama.adapter.stub.ts(299,20): error TS2339: Property 'message' does not exist on type 'never'.
src/adapters/search/orama.adapter.stub.ts(319,6): error TS2322: Type '{ containsAll: readonly (string & Brand<"CollectionId">)[]; }' is not assignable to type 'string | boolean | string[] | ComparisonOperator | EnumComparisonOperator | EnumArrComparisonOperator | GeosearchOperation | undefined'.
  Types of property 'containsAll' are incompatible.
    The type 'readonly (string & Brand<"CollectionId">)[]' is 'readonly' and cannot be assigned to the mutable type '(string | number | boolean)[]'.
src/adapters/search/orama.adapter.stub.ts(337,20): error TS2339: Property 'message' does not exist on type 'never'.
src/adapters/search/orama.adapter.stub.ts(383,61): error TS2741: Property 'indexVersion' is missing in type 'OramaSearchAdapter' but required in type 'IndexingPort'.
src/adapters/search/orama.adapter.ts(110,35): error TS2322: Type '{ id: string; version_id: string; note_id: string; content: string; snippet: string; structure_path: string; collection_ids: string; token_offset: string; token_length: string; created_at: string; content_hash: string; }' is not assignable to type 'AnySchema'.
  Property 'id' is incompatible with index signature.
    Type 'string' is not assignable to type 'AnySchema | SearchableType'.
src/adapters/search/orama.adapter.ts(291,3): error TS2322: Type 'Effect<{ results: { note_id: string; version_id: string & Brand<"VersionId">; title: string; snippet: string; score: number; collection_ids: readonly (string & Brand<"CollectionId">)[]; }[]; ... 5 more ...; has_more: boolean; }, IndexingError, never>' is not assignable to type 'Effect<{ readonly query_id: string; readonly citations: readonly { readonly id: string & Brand<"CitationId">; readonly version_id: string & Brand<"VersionId">; readonly snippet: string; readonly answer_id: string & Brand<...>; readonly anchor: { ...; }; readonly confidence?: number | undefined; }[]; ... 6 more ...; ...'.
  Property 'citations' is missing in type '{ results: { note_id: string; version_id: string & Brand<"VersionId">; title: string; snippet: string; score: number; collection_ids: readonly (string & Brand<"CollectionId">)[]; }[]; ... 5 more ...; has_more: boolean; }' but required in type '{ readonly query_id: string; readonly citations: readonly { readonly id: string & Brand<"CitationId">; readonly version_id: string & Brand<"VersionId">; readonly snippet: string; readonly answer_id: string & Brand<...>; readonly anchor: { ...; }; readonly confidence?: number | undefined; }[]; ... 6 more ...; readonl...'.
src/adapters/search/orama.adapter.ts(386,14): error TS2358: The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.
src/adapters/search/orama.adapter.ts(386,45): error TS2339: Property 'message' does not exist on type 'never'.
src/adapters/search/orama.adapter.ts(429,3): error TS2322: Type 'Effect<{ answer: { id: string & Brand<"AnswerId">; query_id: string & Brand<"QueryId">; text: string; citations: []; composed_at: Date; coverage: { claims: number; cited: number; }; }; citations: never[]; coverage: { ...; }; } | { ...; }, never, never>' is not assignable to type 'Effect<AnswerComposition, IndexingError, never>'.
  Type '{ answer: { id: string & Brand<"AnswerId">; query_id: string & Brand<"QueryId">; text: string; citations: []; composed_at: Date; coverage: { claims: number; cited: number; }; }; citations: never[]; coverage: { ...; }; } | { ...; }' is not assignable to type 'AnswerComposition'.
    Type '{ answer: { id: AnswerId; query_id: QueryId; text: string; citations: []; composed_at: Date; coverage: { claims: number; cited: number; }; }; citations: never[]; coverage: { claims: number; cited: number; }; }' is not assignable to type 'AnswerComposition'.
      The types of 'answer.citations' are incompatible between these types.
        Type '[]' is not assignable to type 'readonly [string & Brand<"CitationId">, ...(string & Brand<"CitationId">)[]]'.
          Source has 0 element(s) but target requires 1.
src/adapters/search/orama.adapter.ts(477,5): error TS2322: Type '(string & Brand<"CitationId">)[]' is not assignable to type 'readonly [string & Brand<"CitationId">, ...(string & Brand<"CitationId">)[]]'.
  Source provides no match for required element at position 0 in target.
src/adapters/search/orama.adapter.ts(586,32): error TS2322: Type 'string[] | Promise<string[]>' is not assignable to type 'PromiseLike<string[]>'.
  Property 'then' is missing in type 'string[]' but required in type 'PromiseLike<string[]>'.
src/adapters/storage/memory.adapter.ts(368,5): error TS18048: 'draft' is possibly 'undefined'.
src/adapters/storage/memory.adapter.ts(369,5): error TS18048: 'draft' is possibly 'undefined'.
src/adapters/storage/memory.adapter.ts(422,5): error TS18048: 'targetVersion' is possibly 'undefined'.
src/adapters/storage/memory.adapter.ts(423,5): error TS18048: 'targetVersion' is possibly 'undefined'.
src/adapters/storage/postgres.adapter.ts(270,63): error TS2345: Argument of type 'StorageError | DatabaseError' is not assignable to parameter of type 'DatabaseError'.
  Type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' is not assignable to type 'DatabaseError'.
    Property 'reason' is missing in type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' but required in type '{ readonly _tag: "TransactionFailed"; readonly reason: string; }'.
src/adapters/storage/postgres.adapter.ts(313,5): error TS2322: Type 'Effect<unknown, StorageError, never>' is not assignable to type 'Effect<{ readonly id: string & Brand<"NoteId">; readonly title: string; readonly metadata: { readonly tags?: readonly string[] | undefined; }; readonly created_at: Date; readonly updated_at: Date; readonly current_version_id?: (string & Brand<...>) | undefined; }, StorageError, never>'.
  Type 'unknown' is not assignable to type '{ readonly id: string & Brand<"NoteId">; readonly title: string; readonly metadata: { readonly tags?: readonly string[] | undefined; }; readonly created_at: Date; readonly updated_at: Date; readonly current_version_id?: (string & Brand<...>) | undefined; }'.
src/adapters/storage/postgres.adapter.ts(315,9): error TS2322: Type 'Effect<{ readonly id: string & Brand<"NoteId">; readonly title: string; readonly metadata: { readonly tags?: readonly string[] | undefined; }; readonly created_at: Date; readonly updated_at: Date; readonly current_version_id?: (string & Brand<...>) | undefined; }, StorageError | DatabaseError, never>' is not assignable to type 'Effect<{ readonly id: string & Brand<"NoteId">; readonly title: string; readonly metadata: { readonly tags?: readonly string[] | undefined; }; readonly created_at: Date; readonly updated_at: Date; readonly current_version_id?: (string & Brand<...>) | undefined; }, DatabaseError, never>'.
  Type 'StorageError | DatabaseError' is not assignable to type 'DatabaseError'.
    Type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' is not assignable to type 'DatabaseError'.
      Property 'reason' is missing in type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' but required in type '{ readonly _tag: "TransactionFailed"; readonly reason: string; }'.
src/adapters/storage/postgres.adapter.ts(475,65): error TS2345: Argument of type 'StorageError | DatabaseError' is not assignable to parameter of type 'DatabaseError'.
  Type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' is not assignable to type 'DatabaseError'.
    Property 'reason' is missing in type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' but required in type '{ readonly _tag: "TransactionFailed"; readonly reason: string; }'.
src/adapters/storage/postgres.adapter.ts(522,65): error TS2345: Argument of type 'StorageError | DatabaseError' is not assignable to parameter of type 'DatabaseError'.
  Type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' is not assignable to type 'DatabaseError'.
    Property 'reason' is missing in type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' but required in type '{ readonly _tag: "TransactionFailed"; readonly reason: string; }'.
src/adapters/storage/postgres.adapter.ts(529,5): error TS2322: Type 'Effect<unknown, StorageError, never>' is not assignable to type 'Effect<{ readonly note_id: string & Brand<"NoteId">; readonly version_id: string & Brand<"VersionId">; readonly status: "version_created" | "indexing" | "committed"; readonly estimated_searchable_in?: number | undefined; }, StorageError, never>'.
  Type 'unknown' is not assignable to type '{ readonly note_id: string & Brand<"NoteId">; readonly version_id: string & Brand<"VersionId">; readonly status: "version_created" | "indexing" | "committed"; readonly estimated_searchable_in?: number | undefined; }'.
src/adapters/storage/postgres.adapter.ts(531,9): error TS2322: Type 'Effect<{ version_id: string & Brand<"VersionId">; note_id: string & Brand<"NoteId">; status: "version_created"; estimated_searchable_in: number; }, StorageError | DatabaseError, never>' is not assignable to type 'Effect<{ version_id: string & Brand<"VersionId">; note_id: string & Brand<"NoteId">; status: "version_created"; estimated_searchable_in: number; }, DatabaseError, never>'.
  Type 'StorageError | DatabaseError' is not assignable to type 'DatabaseError'.
    Type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' is not assignable to type 'DatabaseError'.
      Property 'reason' is missing in type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' but required in type '{ readonly _tag: "TransactionFailed"; readonly reason: string; }'.
src/adapters/storage/postgres.adapter.ts(595,5): error TS2322: Type 'Effect<unknown, StorageError, never>' is not assignable to type 'Effect<{ readonly note_id: string & Brand<"NoteId">; readonly status: "version_created" | "indexing" | "committed"; readonly target_version_id: string & Brand<"VersionId">; readonly new_version_id: string & Brand<...>; }, StorageError, never>'.
  Type 'unknown' is not assignable to type '{ readonly note_id: string & Brand<"NoteId">; readonly status: "version_created" | "indexing" | "committed"; readonly target_version_id: string & Brand<"VersionId">; readonly new_version_id: string & Brand<...>; }'.
src/adapters/storage/postgres.adapter.ts(597,9): error TS2322: Type 'Effect<{ new_version_id: string & Brand<"VersionId">; note_id: string & Brand<"NoteId">; target_version_id: string & Brand<"VersionId">; status: "version_created"; }, StorageError | DatabaseError, never>' is not assignable to type 'Effect<{ new_version_id: string & Brand<"VersionId">; note_id: string & Brand<"NoteId">; target_version_id: string & Brand<"VersionId">; status: "version_created"; }, DatabaseError, never>'.
  Type 'StorageError | DatabaseError' is not assignable to type 'DatabaseError'.
    Type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' is not assignable to type 'DatabaseError'.
      Property 'reason' is missing in type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' but required in type '{ readonly _tag: "TransactionFailed"; readonly reason: string; }'.
src/adapters/storage/postgres.adapter.ts(692,65): error TS2345: Argument of type 'StorageError | DatabaseError' is not assignable to parameter of type 'DatabaseError'.
  Type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' is not assignable to type 'DatabaseError'.
    Property 'reason' is missing in type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' but required in type '{ readonly _tag: "TransactionFailed"; readonly reason: string; }'.
src/adapters/storage/postgres.adapter.ts(714,65): error TS2345: Argument of type 'StorageError | DatabaseError' is not assignable to parameter of type 'DatabaseError'.
  Type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' is not assignable to type 'DatabaseError'.
    Property 'reason' is missing in type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' but required in type '{ readonly _tag: "TransactionFailed"; readonly reason: string; }'.
src/adapters/storage/postgres.adapter.ts(760,40): error TS2322: Type 'Effect<A, DatabaseError, never>' is not assignable to type 'Effect<A, StorageError, never>'.
  Type 'DatabaseError' is not assignable to type 'StorageError'.
    Type '{ readonly _tag: "ConnectionFailed"; readonly reason: string; }' is not assignable to type 'StorageError'.
      Type '{ readonly _tag: "ConnectionFailed"; readonly reason: string; }' is missing the following properties from type '{ readonly _tag: "SchemaVersionMismatch"; readonly expected: string; readonly actual: string; }': expected, actual
src/adapters/storage/postgres.adapter.ts(760,66): error TS2322: Type 'Effect<A, StorageError, never>' is not assignable to type 'Effect<A, DatabaseError, never>'.
  Type 'StorageError' is not assignable to type 'DatabaseError'.
    Type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' is not assignable to type 'DatabaseError'.
      Property 'reason' is missing in type '{ readonly _tag: "NotFound"; readonly entity: string; readonly id: string; }' but required in type '{ readonly _tag: "TransactionFailed"; readonly reason: string; }'.
src/pipelines/indexing/visibility.ts(89,3): error TS2740: Type 'Effect<Queue<{ readonly version_id: string & Brand<"VersionId">; readonly collections: readonly [string & Brand<"CollectionId">, ...(string & Brand<"CollectionId">)[]]; readonly type: "VisibilityEvent"; readonly timestamp: Date; readonly event_id: string; readonly schema_version: string; readonly op: "publish" | ......' is missing the following properties from type 'Queue<{ readonly version_id: string & Brand<"VersionId">; readonly collections: readonly [string & Brand<"CollectionId">, ...(string & Brand<"CollectionId">)[]]; readonly type: "VisibilityEvent"; readonly timestamp: Date; readonly event_id: string; readonly schema_version: string; readonly op: "publish" | ... 1 more...': offer, unsafeOffer, offerAll, [EnqueueTypeId], and 14 more.
src/pipelines/indexing/visibility.ts(90,3): error TS2740: Type 'Effect<Queue<VisibilityOperation>, never, never>' is missing the following properties from type 'Queue<VisibilityOperation>': offer, unsafeOffer, offerAll, [EnqueueTypeId], and 14 more.
src/pipelines/indexing/visibility.ts(103,3): error TS2322: Type 'Effect<{ event_id: string; timestamp: Date; schema_version: string; type: "IndexUpdateStarted"; version_id: string & Brand<"VersionId">; }, ObservabilityError, never>' is not assignable to type 'Effect<{ readonly version_id: string & Brand<"VersionId">; readonly type: "IndexUpdateStarted"; readonly timestamp: Date; readonly event_id: string; readonly schema_version: string; }, VisibilityError, never>'.
  Type 'ObservabilityError' is not assignable to type 'VisibilityError'.
    Type '{ readonly _tag: "MetricRecordingFailed"; readonly metric: string; readonly reason: string; }' is not assignable to type 'VisibilityError'.
      Property 'index_id' is missing in type '{ readonly _tag: "MetricRecordingFailed"; readonly metric: string; readonly reason: string; }' but required in type '{ readonly _tag: "HealthCheckFailed"; readonly reason: string; readonly index_id: string & Brand<"IndexId">; }'.
src/pipelines/indexing/visibility.ts(386,6): error TS2322: Type 'any[]' is not assignable to type 'readonly [string & Brand<"CollectionId">, ...(string & Brand<"CollectionId">)[]]'.
  Source provides no match for required element at position 0 in target.
src/pipelines/indexing/visibility.ts(485,3): error TS2322: Type 'Effect<void, never, never>' is not assignable to type 'Effect<never, never, never>'.
  Type 'void' is not assignable to type 'never'.
src/pipelines/indexing/visibility.ts(500,19): error TS2300: Duplicate identifier 'processOperationAsync'.
src/pipelines/indexing/visibility.ts(551,19): error TS2300: Duplicate identifier 'buildIndexSegment'.
src/pipelines/indexing/visibility.ts(599,19): error TS2300: Duplicate identifier 'validateIndexHealth'.
src/policy/retrieval.ts(24,14): error TS2322: Type 'Readonly<{ topKRetrieve: 128; topKRerank: 64; pageSize: 10; stableSort: string[]; rerankBackoff: { thresholdMs: number; sessionTopKRerank: number; }; }>' is not assignable to type 'RetrievalPolicyConfig'.
  Types of property 'stableSort' are incompatible.
    Type 'string[]' is not assignable to type 'readonly ["score", "version_id", "passage_id"]'.
      Target requires 3 element(s) but source may have fewer.
src/policy/tokenization.ts(26,14): error TS2322: Type 'Readonly<{ tokenizationVersion: "2025-09-01"; fingerprintAlgorithm: "BLAKE3"; casePolicy: { anchors: string; search: string; }; segmentation: { standard: string; cjkStrategy: string; }; separators: { ...; }; }>' is not assignable to type 'TokenizationPolicy'.
  The types of 'casePolicy.anchors' are incompatible between these types.
    Type 'string' is not assignable to type '"preserve"'.
src/queue/scheduler.ts(183,5): error TS2322: Type 'Effect<void, never, never>' is not assignable to type 'Effect<never, never, never>'.
  Type 'void' is not assignable to type 'never'.
src/queue/scheduler.ts(211,15): error TS2339: Property 'unsafeSet' does not exist on type 'typeof import("/Users/sayertindall/Dev/Obscura/Projects/Current/knowledge-repository/node_modules/effect/dist/dts/Ref")'.
src/queue/scheduler.ts(422,5): error TS2322: Type 'Effect<void, never, never>' is not assignable to type 'Effect<never, never, never>'.
  Type 'void' is not assignable to type 'never'.
src/runtime/layers.ts(117,23): error TS2488: Type '(self: Context<unknown>) => DatabasePool' must have a '[Symbol.iterator]()' method that returns an iterator.
src/runtime/layers.ts(189,26): error TS2488: Type '(self: Context<unknown>) => StoragePort' must have a '[Symbol.iterator]()' method that returns an iterator.
src/runtime/layers.ts(190,27): error TS2488: Type '(self: Context<unknown>) => IndexingPort' must have a '[Symbol.iterator]()' method that returns an iterator.
src/runtime/layers.ts(191,26): error TS2488: Type '(self: Context<unknown>) => ParsingPort' must have a '[Symbol.iterator]()' method that returns an iterator.
src/runtime/layers.ts(192,32): error TS2488: Type '(self: Context<unknown>) => ObservabilityPort' must have a '[Symbol.iterator]()' method that returns an iterator.
src/runtime/layers.ts(224,2): error TS2322: Type 'Effect<any, unknown, unknown>' is not assignable to type 'Effect<ApiAdapterDependencies, never, never>'.
  Type 'unknown' is not assignable to type 'never'.
src/runtime/layers.ts(227,23): error TS2488: Type '(self: Context<unknown>) => ApiAdapterDependencies' must have a '[Symbol.iterator]()' method that returns an iterator.
src/services/parsing.port.ts(250,36): error TS2304: Cannot find name 'VersionId'.
src/services/parsing.port.ts(252,60): error TS2304: Cannot find name 'VersionId'.
src/tests/domain.anchor.test.ts(167,62): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(170,37): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: number & Brand<"TokenOffset">): void', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
      Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
  Overload 2 of 2, '(expected: NoInfer<number & Brand<"TokenOffset">>): void', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
      Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(171,37): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: number & Brand<"TokenLength">): void', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenLength">'.
      Type 'number' is not assignable to type 'Brand<"TokenLength">'.
  Overload 2 of 2, '(expected: NoInfer<number & Brand<"TokenLength">>): void', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenLength">'.
      Type 'number' is not assignable to type 'Brand<"TokenLength">'.
src/tests/domain.anchor.test.ts(173,45): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"TokenizationVersion">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"TokenizationVersion">'.
      Type 'string' is not assignable to type 'Brand<"TokenizationVersion">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"TokenizationVersion">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"TokenizationVersion">'.
      Type 'string' is not assignable to type 'Brand<"TokenizationVersion">'.
src/tests/domain.anchor.test.ts(181,54): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(184,54): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(194,62): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(206,70): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(227,70): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(245,63): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(256,62): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(269,70): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(281,70): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(299,70): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(312,62): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(326,70): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(353,65): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(371,42): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(372,42): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.anchor.test.ts(373,42): error TS2345: Argument of type 'number' is not assignable to parameter of type 'number & Brand<"TokenOffset">'.
  Type 'number' is not assignable to type 'Brand<"TokenOffset">'.
src/tests/domain.retrieval.test.ts(52,45): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: (string & Brand<"PassageId">) | undefined): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
  Overload 2 of 2, '(expected: NoInfer<(string & Brand<"PassageId">) | undefined>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
src/tests/domain.retrieval.test.ts(120,38): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"VersionId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"VersionId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
src/tests/domain.retrieval.test.ts(123,38): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"VersionId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"VersionId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
src/tests/domain.retrieval.test.ts(124,38): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"PassageId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"PassageId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
src/tests/domain.retrieval.test.ts(127,38): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"VersionId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"VersionId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
src/tests/domain.retrieval.test.ts(128,38): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"PassageId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"PassageId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
src/tests/domain.retrieval.test.ts(131,38): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"VersionId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"VersionId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
src/tests/domain.retrieval.test.ts(132,38): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"PassageId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"PassageId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
src/tests/domain.retrieval.test.ts(135,38): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"VersionId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"VersionId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
src/tests/domain.retrieval.test.ts(136,38): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"PassageId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"PassageId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
src/tests/domain.retrieval.test.ts(172,41): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"PassageId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"PassageId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
src/tests/domain.retrieval.test.ts(379,38): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"NoteId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"NoteId">'.
      Type 'string' is not assignable to type 'Brand<"NoteId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"NoteId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"NoteId">'.
      Type 'string' is not assignable to type 'Brand<"NoteId">'.
src/tests/domain.retrieval.test.ts(380,41): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"PassageId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"PassageId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
src/tests/domain.retrieval.test.ts(383,38): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"NoteId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"NoteId">'.
      Type 'string' is not assignable to type 'Brand<"NoteId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"NoteId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"NoteId">'.
      Type 'string' is not assignable to type 'Brand<"NoteId">'.
src/tests/domain.retrieval.test.ts(390,50): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"VersionId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"VersionId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
src/tests/domain.retrieval.test.ts(391,50): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"VersionId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"VersionId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
src/tests/domain.retrieval.test.ts(392,50): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"VersionId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"VersionId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
src/tests/domain.retrieval.test.ts(395,50): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"PassageId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"PassageId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
src/tests/domain.retrieval.test.ts(396,50): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"PassageId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"PassageId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"PassageId">'.
      Type 'string' is not assignable to type 'Brand<"PassageId">'.
src/tests/schema.entities.test.ts(18,62): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"NoteId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"NoteId">'.
      Type 'string' is not assignable to type 'Brand<"NoteId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"NoteId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"NoteId">'.
      Type 'string' is not assignable to type 'Brand<"NoteId">'.
src/tests/schema.entities.test.ts(20,4): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"CollectionId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"CollectionId">'.
      Type 'string' is not assignable to type 'Brand<"CollectionId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"CollectionId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"CollectionId">'.
      Type 'string' is not assignable to type 'Brand<"CollectionId">'.
src/tests/schema.entities.test.ts(23,4): error TS2769: No overload matches this call.
  Overload 1 of 2, '(expected: string & Brand<"VersionId">): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
  Overload 2 of 2, '(expected: NoInfer<string & Brand<"VersionId">>): void', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'string & Brand<"VersionId">'.
      Type 'string' is not assignable to type 'Brand<"VersionId">'.
